import{r as w,u as O,j as e,L as t,a as D}from"./app-DclzIr9U.js";import{A as z,B as P}from"./Badge-Bu-XTxCl.js";import{c as C}from"./createLucideIcon-D_Lqu3nq.js";import{U as S}from"./users-ClF-wQTt.js";import{M as U,P as _,S as H,X as A,a as R,L as h}from"./x-CMYJuPTS.js";import{U as L}from"./user-YSHcxOR2.js";import{C as B,a as E}from"./chevron-right-CvYWytKj.js";/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],V=C("file-text",K);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],T=C("layout-dashboard",F);function Z({auth:l,header:m,children:M}){const[s,$]=w.useState(!0),[c,o]=w.useState(!1),{url:x}=O(),d=a=>{a.preventDefault(),D.post(route("logout"))};console.log("Current URL:",x),console.log("Dashboard href:","/admin/dashboard");const r=a=>{try{const i=typeof a=="function"?a():a,n=x.split("?")[0];return n===i||n.startsWith(i+"/")}catch{return!1}},u="/admin/kecamatan",b="/admin/ongkir",j="/admin/kategori",p="/admin/produk",f="/admin/varian-produk",v=r(u),g=r(b),y=r(j),N=r(p),k=r(f),I=[{name:"Dashboard",icon:T,href:"/admin/dashboard",active:r("/admin/dashboard")},{name:"Pembeli",icon:S,href:"/admin/pembeli",active:r("/admin/pembeli")},{name:"Lokasi",icon:U,href:"#",active:v||g,children:[{name:"Kecamatan",href:u,active:v},{name:"Ongkir",href:b,active:g}]},{name:"Produk",icon:_,href:"#",active:y||N||k,children:[{name:"Daftar Produk",href:p,active:N},{name:"Kategori",href:j,active:y},{name:"Varian Produk",href:f,active:k}]},{name:"Pesanan",icon:H,href:"/admin/pesanan",active:r("/admin/pesanan")},{name:"Laporan",icon:V,href:"/admin/laporan",active:r("/admin/laporan")}];return e.jsxs("div",{className:"min-h-screen bg-base-200",children:[e.jsxs("div",{className:"navbar bg-base-100 shadow-lg lg:hidden",children:[e.jsx("div",{className:"navbar-start",children:e.jsx("button",{className:"btn btn-circle btn-ghost",onClick:()=>o(!c),children:c?e.jsx(A,{size:24}):e.jsx(R,{size:24})})}),e.jsx("div",{className:"navbar-center",children:e.jsx(t,{href:(()=>{try{return route("admin.dashboard")}catch{return"/admin/dashboard"}})(),className:"btn text-xl btn-ghost",children:"Admin Panel"})}),e.jsx("div",{className:"navbar-end",children:e.jsxs("div",{className:"dropdown dropdown-end",children:[e.jsx("div",{tabIndex:0,role:"button",className:"btn avatar btn-circle btn-ghost",children:e.jsx(z,{src:null,alt:l?.user?.name||"Admin",size:"sm"})}),e.jsxs("ul",{tabIndex:0,className:"dropdown-content menu z-[1] mt-3 w-52 menu-sm rounded-box bg-base-100 p-2 shadow",children:[e.jsxs("li",{className:"menu-title",children:[e.jsx("span",{children:l?.user?.name||"Admin"}),e.jsx("div",{className:"mt-1",children:e.jsx(P,{variant:"error",children:"Admin"})})]}),e.jsx("li",{children:e.jsxs(t,{href:(()=>{try{return route("profile.edit")}catch{return"#"}})(),children:[e.jsx(L,{size:16}),"Profile"]})}),e.jsx("li",{children:e.jsxs("a",{onClick:d,children:[e.jsx(h,{size:16}),"Logout"]})})]})]})})]}),e.jsxs("div",{className:"flex",children:[e.jsx("aside",{className:`bg-base-100 shadow-lg transition-all duration-300 ${s?"w-64":"w-20"} fixed top-0 left-0 z-40 h-screen lg:translate-x-0 ${c?"translate-x-0":"-translate-x-full"}`,children:e.jsxs("div",{className:"flex h-full flex-col",children:[e.jsxs("div",{className:"flex h-16 items-center justify-between border-b border-base-300 px-4",children:[s&&e.jsx(t,{href:(()=>{try{return route("admin.dashboard")}catch{return"/admin/dashboard"}})(),className:"text-xl font-bold",children:"Admin Panel"}),e.jsx("button",{className:"btn hidden btn-ghost btn-sm lg:flex",onClick:()=>$(!s),children:s?e.jsx(B,{size:20}):e.jsx(E,{size:20})}),e.jsx("button",{className:"btn btn-ghost btn-sm lg:hidden",onClick:()=>o(!1),children:e.jsx(A,{size:20})})]}),e.jsx("nav",{className:"flex-1 overflow-y-auto p-4",children:e.jsx("ul",{className:"menu space-y-1",children:I.map(a=>{const i=a.icon;return e.jsx("li",{children:a.children?e.jsxs("details",{open:a.active,children:[e.jsxs("summary",{className:`${a.active?"text-primary-content":""}`,children:[e.jsx(i,{size:20}),s&&e.jsx("span",{children:a.name})]}),e.jsx("ul",{children:a.children.map(n=>e.jsx("li",{children:n.disabled?e.jsx("span",{className:`ml-4 cursor-not-allowed opacity-50 ${n.active?"bg-primary text-primary-content":""}`,children:s&&n.name}):e.jsx(t,{href:n.href,className:`ml-4 ${n.active?"bg-primary text-primary-content":""}`,children:s&&n.name})},n.name))})]}):e.jsxs(t,{href:typeof a.href=="function"?a.href():a.href,className:`${a.active?"bg-primary text-primary-content":""}`,children:[e.jsx(i,{size:20}),s&&e.jsx("span",{children:a.name})]})},a.name)})})}),e.jsx("div",{className:"border-t border-base-300 p-4",children:s&&e.jsx("div",{className:"mt-3 space-y-1",children:e.jsxs("button",{onClick:d,className:"btn w-full justify-start text-error btn-ghost btn-sm",children:[e.jsx(h,{size:16}),"Logout"]})})})]})}),e.jsxs("div",{className:`flex-1 transition-all duration-300 ${s?"lg:ml-64":"lg:ml-20"}`,children:[e.jsxs("div",{className:"hidden lg:flex fixed top-0 right-0 h-16 items-center justify-between border-b border-base-300 bg-base-100 px-6 shadow-sm z-30",style:{left:s?"16rem":"5rem"},children:[e.jsx("div",{children:m&&e.jsx("h2",{className:"text-xl leading-tight font-semibold text-base-content",children:m})}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("div",{className:"dropdown dropdown-end",children:[e.jsx("div",{tabIndex:0,role:"button",className:"btn avatar btn-circle btn-ghost",children:e.jsx(z,{src:null,alt:l?.user?.name||"Admin",size:"sm"})}),e.jsxs("ul",{tabIndex:0,className:"dropdown-content menu z-[1] mt-3 w-52 menu-sm rounded-box bg-base-100 p-2 shadow",children:[e.jsxs("li",{className:"menu-title",children:[e.jsx("span",{children:l?.user?.name||"Admin"}),e.jsx("div",{className:"mt-1",children:e.jsx(P,{variant:"error",children:"Admin"})})]}),e.jsx("li",{children:e.jsxs(t,{href:(()=>{try{return route("profile.edit")}catch{return"#"}})(),children:[e.jsx(L,{size:16}),"Profile"]})}),e.jsx("li",{children:e.jsxs("a",{onClick:d,children:[e.jsx(h,{size:16}),"Logout"]})})]})]})})]}),e.jsx("main",{className:"p-4 lg:p-6 lg:pt-20",children:M})]})]}),c&&e.jsx("div",{className:"fixed inset-0 z-30 bg-black/50 lg:hidden",onClick:()=>o(!1)})]})}export{Z as A};
