import{r as n,j as a,H as b,L as m,z as i,a as j}from"./app--SwCfbHm.js";import{U as f}from"./UserLayout-UjPexELd.js";import{B as N}from"./Button-CVXMAjk_.js";import{A as k}from"./arrow-left-DHgKy9nj.js";import{S}from"./star-LVdBVf-G.js";import"./cake-DmXQQYlD.js";import"./createLucideIcon-D-k-yZba.js";import"./x-CcQ-pSuB.js";import"./user-BMomucV-.js";import"./phone-C0stKUCi.js";import"./mail-DN5FM5cA.js";function H({review:t}){const[e,d]=n.useState(t.rating),[x,o]=n.useState(0),[r,u]=n.useState(t.komentar||""),[l,c]=n.useState(!1),h=s=>{if(s.preventDefault(),e===0){i.error("Silakan pilih rating");return}c(!0),j.put(route("ulasan.update",t.id),{rating:e,komentar:r},{onSuccess:()=>{i.success("Ulasan berhasil diperbarui!")},onError:()=>{i.error("Gagal memperbarui ulasan")},onFinish:()=>{c(!1)}})},p=s=>{const g=s<=(x||e);return a.jsx("button",{type:"button",onClick:()=>d(s),onMouseEnter:()=>o(s),onMouseLeave:()=>o(0),className:"focus:outline-none transition-transform hover:scale-110",children:a.jsx(S,{className:`w-10 h-10 ${g?"text-yellow-400 fill-yellow-400":"text-gray-300 hover:text-yellow-200"}`})},s)};return a.jsxs(f,{children:[a.jsx(b,{title:"Edit Ulasan - Angel Cake'S"}),a.jsx("section",{className:"pt-28 pb-12 px-4 min-h-screen bg-gray-50",children:a.jsxs("div",{className:"container mx-auto max-w-2xl",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[a.jsx(m,{href:"/ulasan",className:"btn btn-ghost btn-circle",children:a.jsx(k,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold",children:"Edit Ulasan"}),a.jsx("p",{className:"text-gray-600 text-sm",children:"Perbarui ulasan Anda"})]})]}),a.jsx("form",{onSubmit:h,children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-6 pb-6 border-b",children:[a.jsx("img",{src:t.image,alt:t.product_name,className:"w-20 h-20 rounded-lg object-cover"}),a.jsx("div",{children:a.jsx("h3",{className:"font-semibold text-lg",children:t.product_name})})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{className:"block font-semibold mb-3",children:"Rating"}),a.jsxs("div",{className:"flex items-center gap-2",children:[[1,2,3,4,5].map(p),a.jsx("span",{className:"ml-4 text-gray-600",children:e>0&&a.jsxs(a.Fragment,{children:[e===1&&"Sangat Buruk",e===2&&"Buruk",e===3&&"Cukup",e===4&&"Baik",e===5&&"Sangat Baik"]})})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsxs("label",{className:"block font-semibold mb-3",children:["Komentar ",a.jsx("span",{className:"text-gray-400 font-normal",children:"(opsional)"})]}),a.jsx("textarea",{value:r,onChange:s=>u(s.target.value),className:"textarea textarea-bordered w-full h-32",placeholder:"Ceritakan pengalaman Anda dengan produk ini...",maxLength:500}),a.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[r.length,"/500 karakter"]})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx(m,{href:"/ulasan",className:"btn btn-outline flex-1",children:"Batal"}),a.jsx(N,{type:"submit",variant:"primary",className:"flex-1",loading:l,disabled:l||e===0,children:l?"Menyimpan...":"Simpan Perubahan"})]})]})})]})})]})}export{H as default};
