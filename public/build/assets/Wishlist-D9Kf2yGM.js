import{r as c,j as s,H as g,L as t,a as h,z as l}from"./app-DclzIr9U.js";import{U as j,H as x}from"./UserLayout-jZqCqZ2q.js";import{B as k}from"./Button-DhhQn3HE.js";import{A as f}from"./arrow-left-kRrPDBCk.js";import{T as v}from"./trash-2-PaOfSQO4.js";import{S as N}from"./x-CMYJuPTS.js";import"./cake-CvuR9Wrf.js";import"./createLucideIcon-D_Lqu3nq.js";import"./user-YSHcxOR2.js";import"./star-BbT2wrnT.js";import"./phone-C2k2HP--.js";import"./mail-DH6zG2aa.js";function L({items:i,totalItems:m}){const[r,o]=c.useState([]),[n,d]=c.useState([]),u=e=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(e),p=e=>{o([...r,e]),h.delete(route("wishlist.destroy",e),{preserveScroll:!0,onSuccess:()=>{l.success("Produk dihapus dari wishlist")},onError:()=>{l.error("Gagal menghapus produk")},onFinish:()=>{o(r.filter(a=>a!==e))}})},b=e=>{d([...n,e.varian_produk_id]),h.post(route("keranjang.store"),{varian_produk_id:e.varian_produk_id,kuantitas:1},{preserveScroll:!0,onSuccess:()=>{l.success("Produk ditambahkan ke keranjang")},onError:a=>{l.error(a.error||"Gagal menambahkan ke keranjang")},onFinish:()=>{d(n.filter(a=>a!==e.varian_produk_id))}})};return s.jsxs(j,{children:[s.jsx(g,{title:"Wishlist - Angel Cake'S"}),s.jsx("section",{className:"pt-28 pb-12 px-4 min-h-screen",children:s.jsxs("div",{className:"container mx-auto max-w-6xl",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[s.jsx(t,{href:"/produk",className:"btn btn-ghost btn-circle",children:s.jsx(f,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[s.jsx(x,{className:"w-8 h-8 text-pink-500"}),"Wishlist"]}),s.jsxs("p",{className:"text-gray-600",children:[m," produk tersimpan"]})]})]}),i.length>0?s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:i.map(e=>s.jsxs("div",{className:`group bg-white rounded-2xl overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-300 ${r.includes(e.id)?"opacity-50":""}`,children:[s.jsxs(t,{href:`/produk/${e.varian_produk_id}`,className:"block relative overflow-hidden",children:[s.jsx("img",{src:e.image,alt:e.name,className:"w-full h-48 object-cover group-hover:scale-110 transition-transform duration-500"}),e.stock>0?s.jsx("div",{className:"absolute bottom-3 left-3 bg-green-500/90 backdrop-blur-sm px-2 py-0.5 rounded-full",children:s.jsxs("span",{className:"text-white font-semibold text-xs",children:["Stok: ",e.stock]})}):s.jsx("div",{className:"absolute bottom-3 left-3 bg-red-500/90 backdrop-blur-sm px-2 py-0.5 rounded-full",children:s.jsx("span",{className:"text-white font-semibold text-xs",children:"Habis"})}),s.jsx("button",{onClick:a=>{a.preventDefault(),p(e.id)},className:"absolute top-3 right-3 btn btn-circle btn-sm bg-white/90 hover:bg-red-500 hover:text-white border-none transition-colors",disabled:r.includes(e.id),children:r.includes(e.id)?s.jsx("span",{className:"loading loading-spinner loading-xs"}):s.jsx(v,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"p-4",children:[s.jsx("div",{className:"text-xs text-pink-500 font-semibold mb-1",children:e.category}),s.jsx(t,{href:`/produk/${e.varian_produk_id}`,children:s.jsx("h3",{className:"font-bold mb-2 line-clamp-2 hover:text-pink-500 transition-colors",children:e.name})}),s.jsx("div",{className:"text-lg font-bold text-pink-500 mb-3",children:u(e.price)}),s.jsxs("div",{className:"text-xs text-gray-400 mb-3",children:["Ditambahkan: ",e.created_at]}),s.jsx("button",{onClick:()=>b(e),className:"btn btn-primary btn-sm w-full rounded-full gap-2",disabled:e.stock===0||n.includes(e.varian_produk_id),children:n.includes(e.varian_produk_id)?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"loading loading-spinner loading-xs"}),"Menambahkan..."]}):s.jsxs(s.Fragment,{children:[s.jsx(N,{className:"w-4 h-4"}),e.stock===0?"Stok Habis":"Tambah ke Keranjang"]})})]})]},e.id))}):s.jsxs("div",{className:"text-center py-20",children:[s.jsx("div",{className:"w-24 h-24 mx-auto bg-gray-100 rounded-full flex items-center justify-center mb-6",children:s.jsx(x,{className:"w-12 h-12 text-gray-400"})}),s.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Wishlist Kosong"}),s.jsx("p",{className:"text-gray-600 mb-8",children:"Anda belum menambahkan produk ke wishlist"}),s.jsx(t,{href:"/produk",children:s.jsx(k,{variant:"primary",children:"Jelajahi Produk"})})]})]})})]})}export{L as default};
